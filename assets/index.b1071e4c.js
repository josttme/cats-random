(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function c(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();const E="_articleCats_1gycw_1",y="_imgCats_1gycw_4",L="_buttonHeart_1gycw_7",l={articleCats:E,imgCats:y,buttonHeart:L},v="https://api.thecatapi.com/v1/images/search?limit=5",m="https://api.thecatapi.com/v1/favourites",I=t=>`https://api.thecatapi.com/v1/favourites/${t}`,w="https://api.thecatapi.com/v1/images/upload",b=`
		<svg width="32" height="32" filter="drop-shadow(3px 3px 10px rgb(0 0 0 / 1))"  viewBox="0 0 24 24" fill="rgba(255, 255, 255, .5)  ">
							<path
								d="M7.5 2.25C10.5 2.25 12 4.25 12 4.25C12 4.25 13.5 2.25 16.5 2.25C20 2.25 22.5 4.99999 22.5 8.5C22.5 12.5 19.2311 16.0657 16.25 18.75C14.4095 20.4072 13 21.5 12 21.5C11 21.5 9.55051 20.3989 7.75 18.75C4.81949 16.0662 1.5 12.5 1.5 8.5C1.5 4.99999 4 2.25 7.5 2.25Z"
							></path>
						</svg>
`,p=document.getElementById("contentFavotites"),d=document.getElementById("contentCatsRandom"),i=document.getElementById("error"),C=document.getElementById("reload"),T=document.getElementById("upload"),_=document.getElementById("image-preview");f();u();C.addEventListener("click",f);T.addEventListener("click",H);async function f(){const t=await fetch(v),e=await t.json();t.status!==200?i.innerHTML="Hubo un error: "+t.status:(d.innerHTML=" ",await e.forEach(async n=>{await g(n)}),await M())}async function u(){const t=await fetch(m,{method:"GET",headers:{"X-API-KEY":"live_ulJudOIXT5dlxLgJGc39S45lE1McfpaUc95SONW4EKa4XotzFg7RKqf4jcpcI33p"}}),e=await t.json();t.status!==200?i.innerHTML="Hubo un error: "+t.status:(p.innerHTML="",e.forEach(n=>{g(n)}))}async function g(t){const e=t.hasOwnProperty("image");let{id:n,url:c}=t;const o=document.createElement("article"),a=document.createElement("button"),s=document.createElement("img");o.appendChild(s),o.appendChild(a),s.src=c,a.innerHTML=b,e?(p.appendChild(o),s.src=t.image.url,a.children[0].setAttribute("fill","#e22348"),a.onclick=r=>{r.path[1].setAttribute("fill","rgba(255, 255, 255, .5)"),O(`${t.id}`)}):(d.appendChild(o),a.onclick=r=>{r.path[1].setAttribute("fill","#e22348"),h(`${n}`)}),s.classList.add(l.imgCats),a.classList.add(l.buttonHeart),o.classList.add(l.articleCats)}async function M(){const t=document.getElementById("preloader"),e=d.querySelectorAll("img"),n=e[e.length-1];t.classList.remove("hidden"),n.addEventListener("load",()=>{setTimeout(()=>{t.classList.add("hidden")},1e3)})}async function h(t){const e=await fetch(m,{method:"POST",headers:{"Content-Type":"application/json","X-API-KEY":"live_ulJudOIXT5dlxLgJGc39S45lE1McfpaUc95SONW4EKa4XotzFg7RKqf4jcpcI33p"},body:JSON.stringify({image_id:t})});await e.json(),e.status!==200?i.innerHTML="Hubo un error: "+e.status:(console.log("Save michi"),u())}async function O(t){const e=await fetch(I(t),{method:"DELETE",headers:{"X-API-KEY":"live_ulJudOIXT5dlxLgJGc39S45lE1McfpaUc95SONW4EKa4XotzFg7RKqf4jcpcI33p"}});await e.json(),e.status!==200?i.innerHTML="Hubo un error: "+e.status:(console.log("Delete michi"),u())}async function H(){const t=document.getElementById("uploadingForm"),e=new FormData(t);console.log(e.get("file"));const n=await fetch(w,{method:"POST",headers:{"X-API-KEY":"live_ulJudOIXT5dlxLgJGc39S45lE1McfpaUc95SONW4EKa4XotzFg7RKqf4jcpcI33p"},body:e}),c=await n.json();n.status!==201?i.innerHTML=`Hubo un error al subir michi: ${n.status} ${c.message}`:(console.log("Foto de michi cargada :)"),_.src="",h(c.id))}
